CREATE TABLE SIMULACAO (
    ID_SIMULACAO BIGINT AUTO_INCREMENT PRIMARY KEY,
    VALOR_DESEJADO DECIMAL(18,2) NOT NULL,
    PRAZO INT NOT NULL,
    CODIGO_PRODUTO INT NOT NULL,
    NOME_PRODUTO VARCHAR(200) NOT NULL,
    TAXA_JUROS DECIMAL(10,9) NOT NULL,
    VALOR_TOTAL_SAC DECIMAL(18,2),
    VALOR_TOTAL_PRICE DECIMAL(18,2),
    DATA_SIMULACAO TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE PARCELA (
    ID_PARCELA BIGINT AUTO_INCREMENT PRIMARY KEY,
    ID_SIMULACAO BIGINT NOT NULL,
    TIPO VARCHAR(10) NOT NULL,
    NUMERO INT NOT NULL,
    VALOR_AMORTIZACAO DECIMAL(18,2) NOT NULL,
    VALOR_JUROS DECIMAL(18,2) NOT NULL,
    VALOR_PRESTACAO DECIMAL(18,2) NOT NULL,
    FOREIGN KEY (ID_SIMULACAO) REFERENCES SIMULACAO(ID_SIMULACAO)
);

CREATE TABLE TELEMETRIA (
    ID_TELEMETRIA BIGINT AUTO_INCREMENT PRIMARY KEY,
    DATA_REFERENCIA DATE NOT NULL,
    NOME_API VARCHAR(50) NOT NULL,
    QTD_REQUISICOES INT NOT NULL,
    TEMPO_MEDIO INT NOT NULL,
    TEMPO_MINIMO INT NOT NULL,
    TEMPO_MAXIMO INT NOT NULL,
    PERCENTUAL_SUCESSO DECIMAL(5,2) NOT NULL
);
