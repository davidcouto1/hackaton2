{"openapi":"3.0.1","info":{"title":"Hackaton2 - Simulador de Crédito API","description":"API para simulação de crédito, consulta de produtos, telemetria e relatórios.","contact":{"name":"Equipe Hackaton","email":"hackaton@caixa.gov.br"},"license":{"name":"MIT"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/telemetria":{"get":{"tags":["telemetria-controller"],"summary":"Listar telemetria","description":"Retorna envelope agrupado de telemetria por data.","operationId":"listarTelemetria","parameters":[{"name":"data","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Parâmetros inválidos"},"200":{"description":"Lista de telemetria","content":{"application/json":{}}},"500":{"description":"Erro interno"}}},"post":{"tags":["telemetria-controller"],"summary":"Registrar telemetria","description":"Registra dados de telemetria da API.","operationId":"criarTelemetria","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Telemetria"}}},"required":true},"responses":{"400":{"description":"Requisição inválida"},"200":{"description":"Telemetria registrada","content":{"application/json":{}}},"500":{"description":"Erro interno"}}}},"/api/telemetria/teste":{"post":{"tags":["telemetria-controller"],"operationId":"criarTelemetriaTeste","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Telemetria"}}}}}}},"/api/simulacoes":{"get":{"tags":["simulacao-controller"],"summary":"Listar simulações","description":"Retorna envelope paginado das simulações realizadas.","operationId":"listarSimulacoes","parameters":[{"name":"pagina","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"qtdRegistrosPagina","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":200}}],"responses":{"400":{"description":"Parâmetros inválidos"},"200":{"description":"Lista de simulações","content":{"application/json":{}}},"500":{"description":"Erro interno"}}},"post":{"tags":["simulacao-controller"],"summary":"Criar simulação de crédito","description":"Realiza a simulação de crédito e retorna envelope agrupado por tipo de amortização.","operationId":"criarSimulacao","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Simulacao"}}},"required":true},"responses":{"403":{"description":"Acesso proibido","content":{"application/json":{"schema":{"type":"string","example":"{ 'erro': 'Acesso proibido.' }"}}}},"404":{"description":"Recurso não encontrado","content":{"application/json":{"schema":{"type":"string","example":"{ 'erro': 'Recurso não encontrado.' }"}}}},"200":{"description":"Simulação realizada com sucesso","content":{"application/json":{}}},"500":{"description":"Erro interno","content":{"application/json":{"schema":{"type":"string","example":"{ 'erro': 'Erro interno.' }"}}}},"400":{"description":"Requisição inválida (ex: valor negativo, prazo inválido)","content":{"application/json":{"schema":{"type":"string","example":"{ 'erro': 'Valor desejado deve ser positivo.' }"}}}},"401":{"description":"Não autorizado","content":{"application/json":{"schema":{"type":"string","example":"{ 'erro': 'Não autorizado.' }"}}}}}}},"/api/telemetria/todos":{"get":{"tags":["telemetria-controller"],"operationId":"listarTodosRegistrosTelemetria","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Telemetria"}}}}}}}},"/api/relatorio/por-produto-dia":{"get":{"tags":["relatorio-controller"],"summary":"Relatório por produto e dia","description":"Retorna envelope de relatório agrupado por produto e data.","operationId":"relatorioPorProdutoDia","parameters":[{"name":"data","in":"query","required":false,"schema":{"type":"string","format":"date"}}],"responses":{"400":{"description":"Parâmetros inválidos"},"200":{"description":"Relatório gerado","content":{"application/json":{}}},"500":{"description":"Erro interno"}}}},"/api/produtos":{"get":{"tags":["produto-controller"],"operationId":"listarProdutos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProdutoDTO"}}}}}}}},"/api/auditoria":{"get":{"tags":["auditoria-controller"],"summary":"Auditoria de operações","description":"Endpoint para consulta dos logs de auditoria das simulações. Retorna mensagem informando onde consultar os logs detalhados.","operationId":"consultarAuditoria","responses":{"200":{"description":"Mensagem de auditoria retornada","content":{"application/json":{"schema":{"type":"string","example":"{ 'mensagem': 'Auditoria disponível via logs do sistema. Consulte o arquivo de log do serviço para detalhes.' }"}}}},"500":{"description":"Erro interno"}}}}},"components":{"schemas":{"Telemetria":{"type":"object","properties":{"idTelemetria":{"type":"integer","format":"int64"},"dataReferencia":{"type":"string","format":"date"},"nomeApi":{"type":"string"},"tempoRespostaMs":{"type":"integer","format":"int32"},"statusHttp":{"type":"integer","format":"int32"}}},"Parcela":{"type":"object","properties":{"idParcela":{"type":"integer","format":"int64"},"simulacao":{"$ref":"#/components/schemas/Simulacao"},"tipo":{"type":"string"},"numero":{"type":"integer","format":"int32"},"valorAmortizacao":{"type":"number"},"valorJuros":{"type":"number"},"valorPrestacao":{"type":"number"}}},"Simulacao":{"type":"object","properties":{"idSimulacao":{"type":"integer","format":"int64"},"valorDesejado":{"type":"number"},"prazo":{"type":"integer","format":"int32"},"codigoProduto":{"type":"integer","format":"int32"},"nomeProduto":{"type":"string"},"taxaJuros":{"type":"number"},"valorTotalSac":{"type":"number"},"valorTotalPrice":{"type":"number"},"dataSimulacao":{"type":"string","format":"date-time"},"parcelas":{"type":"array","items":{"$ref":"#/components/schemas/Parcela"}}}},"ProdutoDTO":{"type":"object","properties":{"codigo":{"type":"integer","format":"int32"},"nome":{"type":"string"},"taxaJuros":{"type":"number"},"minimoMeses":{"type":"integer","format":"int32"},"maximoMeses":{"type":"integer","format":"int32"},"valorMinimo":{"type":"number"},"valorMaximo":{"type":"number"}}}}}}